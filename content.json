{"meta":{"title":"千雪琉音の桃花源","subtitle":"","description":"千雪琉音, ChiyukiRuon, Chiyuki, Ruon, chiyukiruon, 千雪琉音の桃花源","author":"千雪琉音","url":"https://chiyukiruon.com","root":"/"},"pages":[{"title":"关于","date":"2024-04-05T13:07:23.117Z","updated":"2024-04-05T13:07:23.117Z","comments":true,"path":"about.html","permalink":"https://chiyukiruon.com/about","excerpt":"","text":"我是谁欢迎来到这个小网站(。・∀・)ノ 我是千雪琉音，也可以叫我千雪，是个死宅，爱看番看漫画看轻小说，爱打游戏。 是计算机在读大学生，有空会搞点感兴趣的东西( •̀ ω •́ )✧ 这里有啥 一些开发经验(应该以前端Vue为主，可能会有点Python) 日常分享 技术栈 略知一二 TODO"},{"title":"文章归档","date":"2024-04-05T13:07:23.117Z","updated":"2024-04-05T13:07:23.117Z","comments":true,"path":"archive.html","permalink":"https://chiyukiruon.com/archive","excerpt":"","text":""},{"title":"","date":"2024-04-05T13:07:23.117Z","updated":"2024-04-05T13:07:23.117Z","comments":true,"path":"custom.css","permalink":"https://chiyukiruon.com/custom.css","excerpt":"","text":""},{"title":"好友","date":"2024-04-05T13:07:23.117Z","updated":"2024-04-05T13:07:23.117Z","comments":true,"path":"friends.html","permalink":"https://chiyukiruon.com/friends","excerpt":"","text":"镜像站 友情链接 添加友链欢迎互换友链~请留下以下信息： 123站点名称：千雪琉音の桃花源 站点链接：https://chiyukiruon.com 头像链接：https://chiyukiruon.com/images/arimakana.JPG"}],"posts":[{"title":"杭州亚运会，于是我去圣地巡礼了","slug":"travel-in-japan-202309","date":"2023-10-16T07:12:31.000Z","updated":"2024-04-05T13:07:23.013Z","comments":true,"path":"2023/10/16/travel-in-japan-202309/","link":"","permalink":"https://chiyukiruon.com/2023/10/16/travel-in-japan-202309/","excerpt":"","text":"本来国庆假期就想发的但是一拖再拖被拖到了现在本来还想把二次元老婆p到照片里的但是太懒了也没有p趁着杭州亚运会多出来的一星期小长假，和朋友一起去日本圣地巡礼了，也算是实现了高中毕业因为疫情没有去日本的心愿吧（这次去主要巡礼了你的名字、言叶之庭、孤独摇滚、青春猪头少年系列、春物、路人女主的取景地，还在新宿、秋叶原、大阪的各种二次元商店、中古店、CD店里大买特买。回国直接被海关开箱检查 言叶之庭 孤独摇滚下北泽Starry的原型，我们去的时候入口围起来了本丸剧场的原型，旁边还贴着孤独摇滚的海报 江之岛江之岛站出口江之岛站出口的广场江之岛上山的楼梯当时为了还原原著我和一个朋友选择了坐电梯上去，但是随后发现这个楼梯根本没几步路（有种被骗了的感觉 章鱼饼（味道还不错，有点像海苔的味道 春物其实春物我们花了一整天的时间走了好多地方，去了大老师的学校，沿着侍奉部三人的活动路线走。那天拍了好多照片，腿都快走断了，太阳又大，累死了（但是因为懒得p图所以发两张意思意思（x 水族馆可怜的团子 八雪桥！ 路人女主 战利品开头说了，除了圣地巡礼之外，我们还买了n多周边，包括吧唧、立牌，还有各种CD、BD、漫画。直接导致最后回国拿行李的时候我们五个人四个箱子，三个都要被海关开箱检查（在Animate里看到一整墙百合的时候，我心里想的就是：这里简直就是天堂！我真的好像把货架上每本都拿一本下来，可惜钱包不允许我这么做（另外，中古店真是个好地方啊，不仅能找到好多好东西，价格还便宜，下次还要去 最后虽然这次在日本呆了十天，但是还是有好多想去地方没有去，留给以后有机会再说吧。 回国之后我很想念日本随处都有还24小时营业的便利店，买夜宵真的好方便以及响应速度超快的车站闸机，进出站根本不用停走进闸机手机一碰就好了，实在是太爽了！反观杭州地铁NFC和扫码都要等一下才开门走的稍微进去一点就要我退出重新刷卡实在是太不爽了不过日本出门找不到垃圾桶真是遭罪啊，饮料瓶还好，自动贩卖机旁边都会有。但是别的垃圾在外面根本找不到垃圾桶扔啊草，每次都是拿在手里半天才找到地方扔","categories":[{"name":"日常","slug":"日常","permalink":"https://chiyukiruon.com/categories/%E6%97%A5%E5%B8%B8/"}],"tags":[{"name":"日本","slug":"日本","permalink":"https://chiyukiruon.com/tags/%E6%97%A5%E6%9C%AC/"},{"name":"旅行","slug":"旅行","permalink":"https://chiyukiruon.com/tags/%E6%97%85%E8%A1%8C/"},{"name":"圣地巡礼","slug":"圣地巡礼","permalink":"https://chiyukiruon.com/tags/%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/"}]},{"title":"正方教务管理系统详细成绩获取的实例","slug":"hziee-score-detail","date":"2023-08-15T14:25:35.000Z","updated":"2024-04-05T13:07:23.009Z","comments":true,"path":"2023/08/15/hziee-score-detail/","link":"","permalink":"https://chiyukiruon.com/2023/08/15/hziee-score-detail/","excerpt":"","text":"说明 本文的实例基于杭州电子科技大学信息工程学院教务系统编写，对于其它使用正方教务管理系统的学校教务可能并不完全适用，请具体情况具体分析 本文以及本文所提到的工具并不是杭州电子科技大学信息工程学院官方的工具，也不代表杭州电子科技大学信息工程学院的任何立场 原理正方教务系统在点击查询成绩时会发出一个请求xscjcx_dq.aspx，通过F12的网络中查看这个请求的载荷，我们会发现一个叫做__VIEWSTATE的数据这串数据是一个Base64编码的字符串，它编码前的内容就是页面中显示成绩的表格，其中包括了姓名，学号等详细信息。解码后的文本存在许多乱码是因为除了数据之外它还包括了用于渲染表格时用的格式化字符我所做的就是去掉这些乱码，提取出有用的信息，提高可读性 具体实现信息处理 首先初步过滤出正常字符串这里我选择使用正则表达式/[\\u4e00-\\u9fa5a-zA-Z0-9\\-()（）.+\\s]+(?=dd)/g来提取解码后字符串中的有效信息: \\u4e00-\\u9fa5a-zA-Z0-9\\用来匹配中英文及数字字符串，筛选出科目名称、成绩、开课学院等 -()（）.+\\s用来匹配连字符‘-’，中英文括号、小数点，筛选出课号，学分等 +(?=dd)/g有效信息后总是以dd结尾1234567function fliter(string) { let text = this.base64ToString(string) const regex = /[\\u4e00-\\u9fa5a-zA-Z0-9\\-()（）.+\\s]+(?=dd)/g; const result = text.match(regex).map(str =&gt; str.replace(/dd$/, &#39;&#39;)); return result } 格式化信息使用正则表达式过滤出正常字符串后我们获得了一个数组，但是这个数组对于程序读取还是有点困难，因此我们要将它格式化成方便程序读取展示的数据 遍历数组，使用正则表达式/([\\d-]+)-[a-zA-Z0-9-]+-\\d+/来判断某一门课程的数据是否已经结束正则真好用 如果当前和正则匹配上，说明一门课程已经结束，则将当前数据之前的数据以数组的形式添加到结果数组中 最后会将数据格式化成一个数组，数组的元素是每一门课的信息数组，方便遍历展示12345678910111213141516171819202122232425262728function split(courseList) { const regex = /([\\d-]+)-[a-zA-Z0-9-]+-\\d+/; const result = []; let currentSection = []; for (let i = 0; i &lt; courseList.length; i++) { const item = courseList[i]; const match = item.match(regex); if (match) { if (currentSection.length &gt; 0) { result.push(currentSection); currentSection = []; } } currentSection.push(item); } if (currentSection.length &gt; 0) { result.push(currentSection); } this.resultList = result return result; } 在1.3.0版本后我更改了成绩数据的数据结构，格式化数据从嵌套数组改为对象数组。将判断具体信息的任务从组件渲染时判断改为直接使用js做判断，并在格式化数据时加入了一些用于状态判断的字段，组件渲染时直接读取对应字段即可123456789101112131415161718192021222324252627282930313233343536373839function formatResultData(courseList) { const resultList = [] for (let i = 1;i &lt; courseList.length;i++) { const item = {} const assessmentScore = [] for (let j = 0;j &lt; courseList[i].length;j++) { let courseListItem = courseList[i] if (j === 0) { item.courseId = courseListItem[j] } if (j === 4) { item.courseName = courseListItem[j].trimStart().replace(/^\\d/g, &quot;&quot;) } if (isCredits(courseListItem[j]) &amp;&amp; j &gt; 4) { item.credits = courseListItem[j].trimStart() } if (j &gt; 6 &amp;&amp; courseListItem[j] !== &#39;d&#39; &amp;&amp; !isCredits(courseListItem[j])) { if (isFinalScore(courseListItem, j)) { item.finalScore = courseListItem[j].trimStart() item.isPass = isPass(courseListItem[j]) }else if (isCredits(courseListItem[j-1])) { item.performanceScore = courseListItem[j].trimStart() }else { if (courseListItem[j] === &#39;是&#39;) { item.isRenovate = courseListItem[j] === &#39;是&#39; }else if (courseListItem[j].match(/(学院|学部)/)) { item.college = courseListItem[j].trimStart() }else { assessmentScore.push(courseListItem[j].trimStart()) } } } } item.assessmentScore = assessmentScore resultList.push(item) } return resultList } 信息展示 经过格式化后的信息就可以传到前端页面让组件渲染了 在1.3.0版本后就不需要在组件内循环遍历以及判断具体信息了，直接使用对应字段取出即可 同时在1.3.0版本后我更改了PC浏览器上的成绩显示样式，从原来的卡片式变为使用表格展示。手机端则依旧为卡片形式 在移动设备或宽度小于500的PC浏览器访问时都会都会以成绩卡片的形式展示，其余则会以表格形式展示，以获得更好的浏览体验 其它 项目源代码：Github 项目地址： 杭电信工详细成绩查询 杭电信工详细成绩查询(备用)","categories":[{"name":"前端","slug":"前端","permalink":"https://chiyukiruon.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://chiyukiruon.com/tags/Vue/"},{"name":"Element Plus","slug":"Element-Plus","permalink":"https://chiyukiruon.com/tags/Element-Plus/"},{"name":"前端","slug":"前端","permalink":"https://chiyukiruon.com/tags/%E5%89%8D%E7%AB%AF/"}]},{"title":"欢迎来到千雪琉音の桃花源","slug":"wellcom","date":"2023-07-26T14:25:35.000Z","updated":"2024-04-05T13:07:23.117Z","comments":true,"path":"2023/07/26/wellcom/","link":"","permalink":"https://chiyukiruon.com/2023/07/26/wellcom/","excerpt":"","text":"这是本站的第一篇文章喵你见证了历史","categories":[{"name":"日常","slug":"日常","permalink":"https://chiyukiruon.com/categories/%E6%97%A5%E5%B8%B8/"}],"tags":[]}],"categories":[{"name":"日常","slug":"日常","permalink":"https://chiyukiruon.com/categories/%E6%97%A5%E5%B8%B8/"},{"name":"前端","slug":"前端","permalink":"https://chiyukiruon.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"日本","slug":"日本","permalink":"https://chiyukiruon.com/tags/%E6%97%A5%E6%9C%AC/"},{"name":"旅行","slug":"旅行","permalink":"https://chiyukiruon.com/tags/%E6%97%85%E8%A1%8C/"},{"name":"圣地巡礼","slug":"圣地巡礼","permalink":"https://chiyukiruon.com/tags/%E5%9C%A3%E5%9C%B0%E5%B7%A1%E7%A4%BC/"},{"name":"Vue","slug":"Vue","permalink":"https://chiyukiruon.com/tags/Vue/"},{"name":"Element Plus","slug":"Element-Plus","permalink":"https://chiyukiruon.com/tags/Element-Plus/"},{"name":"前端","slug":"前端","permalink":"https://chiyukiruon.com/tags/%E5%89%8D%E7%AB%AF/"}]}